# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–£–î–ò–¢ –ë–ò–ë–õ–ò–û–¢–ï–ö–ò NEVOD

## –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø
- **–ü—Ä–æ–µ–∫—Ç:** Nevod - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π –¥–ª—è Swift
- **–í–µ—Ä—Å–∏—è:** 0.0.4
- **–ö–æ–¥:** ~1349 —Å—Ç—Ä–æ–∫ Swift –∫–æ–¥–∞
- **–¢–µ—Å—Ç—ã:** 14 —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 1 (Letopis 0.0.13)

---

## ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–û–¢–°–£–¢–°–¢–í–£–ï–¢ LICENSE –§–ê–ô–õ**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í README —É–∫–∞–∑–∞–Ω–æ `MIT License - see LICENSE file`, –Ω–æ —Ñ–∞–π–ª–∞ LICENSE –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢
- –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º
- –ù–∞—Ä—É—à–µ–Ω–∏–µ open-source –ø—Ä–∞–∫—Ç–∏–∫

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å LICENSE —Ñ–∞–π–ª —Å MIT –ª–∏—Ü–µ–Ω–∑–∏–µ–π
```

---

### 2. **–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï SSH URL –í Package.swift**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** Package.swift:16

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
.package(url: "git@github.com:andrey-torlopov/Letopis.git", from: "0.0.13")
```

SSH URL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```swift
.package(url: "https://github.com/andrey-torlopov/Letopis.git", from: "0.0.13")
```

---

### 3. **–ù–ï–ë–ï–ó–û–ü–ê–°–ù–û–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï nonisolated(unsafe)**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –í–´–°–û–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift:17

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
nonisolated(unsafe) private let session: URLSessionProtocol
```

–≠—Ç–æ –æ–±—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Swift 6 –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ race conditions.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç–æ—Ä-–∏–∑–æ–ª—è—Ü–∏—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ò–ª–∏ –æ–±–æ—Å–Ω–æ–≤–∞—Ç—å –ø–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

### 4. **MEMORY LEAK –í CookieToken.toCookie()**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –í–´–°–û–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** CookieToken.swift:70

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
func toCookie() -> HTTPCookie? {
    var properties: [HTTPCookiePropertyKey: Any] = [
        .name: name,
        .value: value,
        .domain: domain,
        .path: path,
        .secure: isSecure
    ]
    
    // isHTTPOnly –ù–ï –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–¢–°–Ø!
```

–ü–æ–ª–µ `isHTTPOnly` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏, –Ω–æ –ù–ï –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å cookie.

**–†–µ—à–µ–Ω–∏–µ:**
```swift
if isHTTPOnly {
    // HTTPCookie –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HTTPOnly –≤ properties –Ω–∞–ø—Ä—è–º—É—é
    // –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
}
```

---

### 5. **–£–Ø–ó–í–ò–ú–û–°–¢–¨ –ö DIRECTORY TRAVERSAL**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** Route.swift:88-92

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
let basePath = (comps?.path ?? "").trimmingCharacters(in: CharacterSet(charactersIn: "/"))
let endpointPath = endpoint.trimmingCharacters(in: CharacterSet(charactersIn: "/"))
let joinedPath = [basePath, endpointPath].filter { !$0.isEmpty }.joined(separator: "/")
```

–ù–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è `endpoint` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `../` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –æ–ø–∞—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º URL.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é endpoint
- –ó–∞–ø—Ä–µ—Ç–∏—Ç—å `../`, –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –∏ —Ç.–¥.

---

## ‚ö†Ô∏è –°–ï–†–¨–ï–ó–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 6. **–û–¢–°–£–¢–°–¢–í–ò–ï RATE LIMITING**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ rate limiting. –ü—Ä–∏ retry –ª–æ–≥–∏–∫–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ DDoS —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ API.

---

### 7. **–ù–ï–î–û–°–¢–ê–¢–û–ß–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö –í INTERCEPTOR CHAIN**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** InterceptorChain.swift:21-26

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
public func adapt(_ request: URLRequest) async throws -> URLRequest {
    var req = request
    for interceptor in interceptors {
        req = try await interceptor.adapt(req)  // –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–∞–¥–∞–µ—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
    }
    return req
}
```

–ï—Å–ª–∏ –æ–¥–∏–Ω interceptor –∫–∏–¥–∞–µ—Ç –æ—à–∏–±–∫—É, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è. –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞ –∏–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

---

### 8. **RACE CONDITION –í TokenStorage**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** TokenStorage.swift:28-33

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
public func save(_ token: Token?) {
    self.cached = token  // 1. –û–±–Ω–æ–≤–ª—è–µ–º –∫–µ—à
    
    if let token, let data = try? token.encode() {
        storage.set(data, for: storageKey)  // 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ storage
    } else {
        storage.remove(for: storageKey)  // 3. –ò–ª–∏ —É–¥–∞–ª—è–µ–º
    }
}
```

–ú–µ–∂–¥—É —à–∞–≥–∞–º–∏ 1 –∏ 2 –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å `cached` token, –Ω–æ storage –µ—â—ë –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω. –•–æ—Ç—è —ç—Ç–æ actor, storage –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω.

---

### 9. **–û–¢–°–£–¢–°–¢–í–ò–ï –í–ê–õ–ò–î–ê–¶–ò–ò URL**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** Route.swift:97

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
guard let url = comps?.url else { return .failure(.invalidURL) }
```

–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å—Ö–µ–º—ã (http/https), –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ localhost –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ —Ç.–¥.

---

### 10. **–ü–û–¢–ï–†–Ø –û–®–ò–ë–ö–ò –í bodyEncodingFailed**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –ù–ò–ó–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** Route.swift:58, 76

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
if let body = bodyData {
    request.httpBody = body
    if body.isEmpty { return .failure(.bodyEncodingFailed) }
}
```

–ï—Å–ª–∏ `bodyData` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `nil` –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ JSONSerialization, –æ—à–∏–±–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è. –ö–æ–¥ –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.

---

### 11. **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê RETRY**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift:165-177

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
private func shouldRetryOnError(
    _ error: NetworkError,
    attempt: Int,
    maxAttempts: Int
) -> Bool {
    guard attempt < maxAttempts - 1 else {
        return false
    }
    
    switch error {
    case .timeout, .noConnection:
        return true
    default:
        return false
    }
}
```

Retry –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¢–û–õ–¨–ö–û –¥–ª—è timeout –∏ noConnection, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç 5xx –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ.

---

### 12. **–û–¢–°–£–¢–°–¢–í–ò–ï EXPONENTIAL BACKOFF**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –°–†–ï–î–ù–Ø–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift:47-72

Retry –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏. –≠—Ç–æ –º–æ–∂–µ—Ç —É—Å—É–≥—É–±–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```swift
try await Task.sleep(nanoseconds: UInt64(pow(2.0, Double(attempt)) * 1_000_000_000))
```

---

### 13. **–ù–ï–ü–û–õ–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê URLError**
**–°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** –ù–ò–ó–ö–ê–Ø  
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift:151-161

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
private func mapURLError(_ error: Error) -> NetworkError {
    if let urlError = error as? URLError {
        switch urlError.code {
        case .timedOut:
            return .timeout
        case .notConnectedToInternet, .networkConnectionLost:
            return .noConnection
        default:
            return .unknown(urlError)
        }
    }
    return .unknown(error)
}
```

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∞–∂–Ω—ã—Ö URLError –∫–æ–¥–æ–≤ –Ω–µ –º–∞–ø—è—Ç—Å—è:
- `.badURL`
- `.cannotFindHost`
- `.dnsLookupFailed`
- `.sslError` (–≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!)
- `.cancelled`

---

## üìã –ü–†–û–ë–õ–ï–ú–´ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò

### 14. **–ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –í–ï–†–°–ò–ô –í README**
**–õ–æ–∫–∞—Ü–∏—è:** README.md, Package.swift

README —É–∫–∞–∑—ã–≤–∞–µ—Ç:
```swift
.package(url: "https://github.com/andrey-torlopov/Nevod.git", from: "0.0.4")
```

–ù–æ –≤ Package.swift –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SSH URL –∏ –Ω–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏ 0.0.4 (–≤–æ–∑–º–æ–∂–Ω–æ).

---

### 15. **–û–¢–°–£–¢–°–¢–í–ò–ï –ü–†–ò–ú–ï–†–û–í KeychainStorage**
**–õ–æ–∫–∞—Ü–∏—è:** Docs/en/Authentication.md:175-230

–ü—Ä–∏–º–µ—Ä KeychainStorage –Ω–µ–ø–æ–ª–Ω—ã–π - –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç:
- Access control (kSecAttrAccessible)
- Synchronization (kSecAttrSynchronizable)
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ SecItem*

---

### 16. **–ù–ï–ê–ö–¢–£–ê–õ–¨–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ü–û –õ–û–ì–ò–†–û–í–ê–ù–ò–Æ**
**–õ–æ–∫–∞—Ü–∏—è:** README.md, QuickStart.md

–í Quick Start —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è:
```swift
let loggingInterceptor = LoggingInterceptor(logger: logger, logLevel: .verbose)
```

–ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ LoggingInterceptor –ø—Ä–∏–Ω–∏–º–∞–µ—Ç Letopis, –∞ –Ω–µ Logger –∏ –Ω–µ –∏–º–µ–µ—Ç logLevel –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

---

### 17. **–û–¢–°–£–¢–°–¢–í–ò–ï –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò –ü–û THREAD SAFETY**

–ù–∏–≥–¥–µ –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è:
- –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω NetworkProvider –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤?
- Thread safety KeyValueStorage —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- Concurrent access –∫ TokenStorage

---

## üîç CODE SMELLS

### 18. **–ù–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ô –ü–ê–†–ê–ú–ï–¢–† –í NetworkProvider**
**–õ–æ–∫–∞—Ü–∏—è:** NetworkProvider.swift:29

**–ü—Ä–æ–±–ª–µ–º–∞:**
```swift
private let logger: Letopis?

public init(
    config: NetworkConfig,
    session: URLSessionProtocol = URLSessionType.shared,
    interceptor: (any RequestInterceptor)? = nil,
    logger: Letopis? = Letopis(interceptors: [ConsoleInterceptor()])  // ‚ö†Ô∏è –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞—ë—Ç—Å—è
) {
```

Logger —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω. –≠—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

---

### 19. **–î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï –ö–û–î–ê –í AUTH INTERCEPTORS**
**–õ–æ–∫–∞—Ü–∏—è:** AuthenticationInterceptor.swift, CookieAuthenticationInterceptor.swift

–û–±–∞ interceptor –∏–º–µ—é—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É:
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á (refreshTask/loginTask)
- Retry –ª–æ–≥–∏–∫—É
- shouldAuthenticate —Ñ–∏–ª—å—Ç—Ä

–ú–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –æ–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å.

---

### 20. **MAGIC NUMBERS**
**–õ–æ–∫–∞—Ü–∏—è:** NetworkConfig.swift:41-42, NetworkProvider.swift:46

```swift
timeout: TimeInterval = 30,  // –ü–æ—á–µ–º—É 30?
retries: Int = 3             // –ü–æ—á–µ–º—É 3?
let attempts = max(1, config.retries)  // –ü–æ—á–µ–º—É min = 1?
```

–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–µ –æ–±—ä—è—Å–Ω–µ–Ω—ã –∏ –Ω–µ –≤—ã–Ω–µ—Å–µ–Ω—ã.

---

### 21. **–ù–ï–ö–û–ù–°–ò–°–¢–ï–ù–¢–ù–û–ï –ò–ú–ï–ù–û–í–ê–ù–ò–ï**
**–õ–æ–∫–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

- `TokenModel.authorize()` vs `NetworkProvider.request()`
- `SimplePostRoute` vs `perform()` method
- `bodyData` vs `urlQueryItems`

---

### 22. **–ò–ó–ë–´–¢–û–ß–ù–ê–Ø –í–õ–û–ñ–ï–ù–ù–û–°–¢–¨ –í Route.makeRequest**
**–õ–æ–∫–∞—Ü–∏—è:** Route.swift:61-81

–ú–µ—Ç–æ–¥ –∏–º–µ–µ—Ç 3 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ flatMap. –ú–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ async/await –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã.

---

## üß™ –ü–†–û–ë–õ–ï–ú–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### 23. **–ù–ò–ó–ö–û–ï –ü–û–ö–†–´–¢–ò–ï –¢–ï–°–¢–ê–ú–ò**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í—Å–µ–≥–æ 14 —Ç–µ—Å—Ç–æ–≤ –Ω–∞ ~1349 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (~1% –ø–æ–∫—Ä—ã—Ç–∏–µ)
- –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è:
  - CookieToken —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  - APIKeyToken
  - QueryAPIKeyToken
  - NetworkConfig.environmentConfigurations
  - –û—à–∏–±–æ–∫ –≤ Route.buildURL
  - Edge cases –≤ InterceptorChain

---

### 24. **–û–¢–°–£–¢–°–¢–í–ò–ï –¢–ï–°–¢–û–í –ù–ê CONCURRENCY**

–ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö:
- Concurrent refresh –≤ AuthenticationInterceptor
- Race conditions –≤ TokenStorage
- Thread safety NetworkProvider

---

### 25. **–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï @unchecked Sendable –í –¢–ï–°–¢–ê–•**
**–õ–æ–∫–∞—Ü–∏—è:** NevodTests.swift:14, 24

```swift
private final class MockStorage: KeyValueStorage, @unchecked Sendable {
    private var storage: [String: Any] = [:]  // ‚ö†Ô∏è Dictionary –Ω–µ thread-safe
    private let lock = NSLock()
```

–ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è lock, –Ω–æ `@unchecked Sendable` —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.

---

## üì¶ –ü–†–û–ë–õ–ï–ú–´ –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–´

### 26. **.gitignore –°–û–î–ï–†–ñ–ò–¢ –û–®–ò–ë–ö–£**
**–õ–æ–∫–∞—Ü–∏—è:** .gitignore:61

```gitignore
LoggerConfig.json
```

–≠—Ç–æ—Ç —Ñ–∞–π–ª —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ—è—Å–Ω–æ —á—Ç–æ —ç—Ç–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏. –í–æ–∑–º–æ–∂–Ω–æ legacy.

---

### 27. **–ù–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –§–ê–ô–õ–´ –í .gitignore**
```gitignore
.rvmrc
vendor/bundle
.bundle/
Podfile.lock
```

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SPM, –∞ –Ω–µ CocoaPods. –ó–∞—á–µ–º —ç—Ç–∏ –∑–∞–ø–∏—Å–∏?

---

### 28. **.build –î–ò–†–ï–ö–¢–û–†–ò–Ø –í –†–ï–ü–û–ó–ò–¢–û–†–ò–ò**
**–õ–æ–∫–∞—Ü–∏—è:** .build/

Build –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ git status). –≠—Ç–æ –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

---

### 29. **–û–¢–°–£–¢–°–¢–í–ò–ï CI/CD**

–ù–µ—Ç:
- GitHub Actions
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞ PR
- Linting (SwiftLint)
- –ü—Ä–æ–≤–µ—Ä–∫–∏ code coverage

---

### 30. **–û–¢–°–£–¢–°–¢–í–ò–ï CHANGELOG**

–ù–µ—Ç —Ñ–∞–π–ª–∞ CHANGELOG.md –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏.

---

## üé® –°–¢–ò–õ–ò–°–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 31. **INCONSISTENT –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò**
**–õ–æ–∫–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ doc comments, –¥—Ä—É–≥–∏–µ - –Ω–µ—Ç:
- HTTPMethod.swift - –Ω–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤–æ–æ–±—â–µ
- NetworkError.swift - –Ω–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–π –∫–µ–π—Å–æ–≤
- ServiceDomain.swift - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

### 32. **–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï force unwrap –í –ü–†–ò–ú–ï–†–ê–•**
**–õ–æ–∫–∞—Ü–∏—è:** README.md, QuickStart.md

```swift
baseURL: URL(string: "https://api.example.com")!  // ‚ö†Ô∏è force unwrap
```

–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

### 33. **–ù–ï–ö–û–ù–°–ò–°–¢–ï–ù–¢–ù–´–ï –ú–ê–†–ö–ò–†–û–í–ö–ò –î–û–°–¢–£–ü–ê**

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω—ã `public`, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã —è–≤–Ω–æ `public`, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### 34. **–î–û–ë–ê–í–ò–¢–¨ METRICS/ANALYTICS SUPPORT**

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–≥–ª–∞ –±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å:
- Request duration tracking
- Success/failure rates
- Retry statistics
- Custom analytics hooks

---

### 35. **–ü–û–î–î–ï–†–ñ–ö–ê MULTIPART/FORM-DATA**

–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ multipart/form-data.

---

### 36. **WEBSOCKET SUPPORT**

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ API —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç WebSocket. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–≥–ª–∞ –±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –µ–¥ÔøΩÔøΩ–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

### 37. **REQUEST/RESPONSE CACHING**

–ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- Memory cache
- Disk cache
- ETags support
- Cache-Control headers

---

### 38. **MOCK SERVER –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å mock server –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –º–æ–∫–∏–Ω–≥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏.

---

### 39. **–£–õ–£–ß–®–ï–ù–ù–ê–Ø –¢–ò–ü–ò–ó–ê–¶–ò–Ø –û–®–ò–ë–û–ö**

NetworkError.unknown(Error) —Ç–µ—Ä—è–µ—Ç type information. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã.

---

### 40. **–ü–û–î–î–ï–†–ñ–ö–ê –ì–†–ê–§–ò–ß–ï–°–ö–ò–• –ó–ê–ü–†–û–°–û–í (GraphQL)**

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Route –¥–ª—è GraphQL –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### –ö–†–ò–¢–ò–ß–ù–û–°–¢–¨:
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:** 5 ‚ùå
- **–í—ã—Å–æ–∫–∞—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** 8 ‚ö†Ô∏è
- **–°—Ä–µ–¥–Ω—è—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** 15 ‚ö†Ô∏è
- **–ù–∏–∑–∫–∞—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å:** 12 ‚ÑπÔ∏è

### –ö–ê–¢–ï–ì–û–†–ò–ò:
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** 6 –ø—Ä–æ–±–ª–µ–º
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** 8 –ø—Ä–æ–±–ª–µ–º
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 7 –ø—Ä–æ–±–ª–µ–º
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** 6 –ø—Ä–æ–±–ª–µ–º
- **Code Quality:** 9 –ø—Ä–æ–±–ª–µ–º
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** 4 –ø—Ä–æ–±–ª–µ–º—ã

### –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê: **6.5/10**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å protocol-oriented design
‚úÖ –•–æ—Ä–æ—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Swift concurrency
‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–∞—è

**–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç LICENSE —Ñ–∞–π–ª (–ö–†–ò–¢–ò–ß–ù–û)
‚ùå SSH URL –≤–º–µ—Å—Ç–æ HTTPS –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö (–±–ª–æ–∫–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É)
‚ùå –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (cookie restoration, directory traversal)
‚ùå –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–∂–Ω—ã—Ö features (rate limiting, caching)

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

**–ù–ï–ú–ï–î–õ–ï–ù–ù–û (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ):**
1. –î–æ–±–∞–≤–∏—Ç—å LICENSE —Ñ–∞–π–ª
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å URL –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ HTTPS
3. –£–±—Ä–∞—Ç—å .build –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å):**
4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å CookieToken.isHTTPOnly –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
5. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é endpoint –Ω–∞ directory traversal
6. –£–±—Ä–∞—Ç—å nonisolated(unsafe) –∏–ª–∏ –æ–±–æ—Å–Ω–æ–≤–∞—Ç—å

**–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–∫–∞—á–µ—Å—Ç–≤–æ):**
7. –î–æ–±–∞–≤–∏—Ç—å exponential backoff –¥–ª—è retry
8. –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É URLError
9. –î–æ–±–∞–≤–∏—Ç—å rate limiting
10. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –¥–æ 80%+

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

Nevod - **–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** —Å —Ö–æ—Ä–æ—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä—å–µ–∑–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–¥ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–∞–µ–º—ã –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è, –Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –°–†–û–ß–ù–û.

---

# ANOTHER AUDIT

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ API
Route –∏ –≤—Å–µ –≥–æ—Ç–æ–≤—ã–µ Simple*Route —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å [String: String] –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç JSON/URL‚Äëencoded —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ JSONSerialization. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á—É –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –º–∞—Å—Å–∏–≤–æ–≤, –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ç–µ–ª, Encodable –º–æ–¥–µ–ª–µ–π –∏–ª–∏ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Ä–æ—É—Ç–∞, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –¥–ª—è ¬´—Å–ª–æ–∂–Ω—ã—Ö¬ª –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º API –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ.
–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ NetworkProvider.request —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π JSONDecoder() –∏ –Ω–µ –¥–∞—ë—Ç –Ω–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É, –Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É Route –∑–∞–¥–∞—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç, snake_case, userInfo, –∫–∞—Å—Ç–æ–º–Ω—ã–π decoder). –í –∏—Ç–æ–≥–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ª–∏–±–æ —Ñ–æ—Ä–∫–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –ª–∏–±–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ –≤–Ω–µ—à–Ω–µ–º —É—Ä–æ–≤–Ω–µ, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
–ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä Letopis (logger: Letopis? = Letopis(...)), –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Ö–æ—á–µ—Ç —Ç—è–Ω—É—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å/–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª–∏–∑–º–∞, –æ –∫–æ—Ç–æ—Ä–æ–º –≥–æ–≤–æ—Ä–∏—Ç—Å—è –≤ README, –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö –±–µ–∑ OSLog.
ServiceDomain —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–æ–º–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ identifier, –ø–æ—ç—Ç–æ–º—É –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö enum‚Äô–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø–µ—Ä–µ—Ç—Ä—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ NetworkConfig (–∫–ª—é—á–∏ —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –≤ AnyHashable), —á—Ç–æ –≤–µ–¥—ë—Ç –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è–º –ø—Ä–∏ –º–æ–¥—É–ª—å–Ω–æ–º —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è NetworkConfig.environment –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç .invalidURL, —Ö–æ—Ç—è –æ—à–∏–±–∫–∞ –ø–æ —Å—É—Ç–∏ ¬´–¥–æ–º–µ–Ω –Ω–µ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω¬ª. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –∏ —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –¥–µ–±–∞–≥ URL –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–π.
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
retries –≤ NetworkConfig —Ç—Ä–∞–∫—Ç—É–µ—Ç—Å—è –∫–∞–∫ ¬´–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫¬ª, –∞ –Ω–µ ¬´—á–∏—Å–ª–æ –ø–æ–≤—Ç–æ—Ä–æ–≤¬ª (—Ü–∏–∫–ª 0..<attempts), –Ω–µ—Ç backoff‚Äô–∞/–¥–∂–∏—Ç—Ç–µ—Ä–∞, –∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —ç—Ç–æ –Ω–µ –ø–æ—è—Å–Ω—è–µ—Ç. –õ—é–±–æ–π SLA‚Äë–∫—Ä–∏—Ç–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å –æ–∂–∏–¥–∞–µ—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff –∏–ª–∏ —Ö–æ—Ç—è –±—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª, –∏–Ω–∞—á–µ –º–∞—Å—Å–æ–≤—ã–µ —Ä–µ—Ç—Ä–∞–∏ –ª–µ–≥–∫–æ —É—Å—É–≥—É–±—è—Ç –æ—Ç–∫–∞–∑.
–ü—Ä–∏ HTTP‚Äë–æ—à–∏–±–∫–∞—Ö –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã 300/429/308 –ø–æ–ø–∞–¥–∞—é—Ç –≤ .unknown, —á—Ç–æ –ª–∏—à–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, rate limiting). –ù–µ–ª—å–∑—è –æ—Ç–ª–∏—á–∏—Ç—å 429 Too Many Requests, —Ö–æ—Ç—è README –æ–±–µ—â–∞–µ—Ç –≥–∏–±–∫—É—é retry‚Äë–ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Å–µ–ø—Ç–æ—Ä—ã.
–í–µ—Ç–≤—å —Å URLSession‚Äë–æ—à–∏–±–∫–∞–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ö–æ–¥–∏—Ç—Å—è –±–µ–∑ –∏–Ω—Ç–µ—Ä—Å–µ–ø—Ç–æ—Ä–æ–≤ ‚Äî —Ä–µ—à–µ–Ω–∏–µ –æ –ø–æ–≤—Ç–æ—Ä–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ shouldRetryOnError, –∏ –æ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —Ç–∞–π–º–∞—É—Ç–æ–º/–æ–±—Ä—ã–≤–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –±–µ–∑ —É—á—ë—Ç–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–≤—Ç–æ—Ä—è—Ç—å NSURLErrorCannotFindHost). –≠—Ç–æ —Ä–µ–∑–∫–æ —Å–Ω–∏–∂–∞–µ—Ç –ø–æ–ª—å–∑—É –æ—Ç RequestInterceptor.retry –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ–µ–≤ –∏ –¥–µ–ª–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–π.
–õ—é–±–∞—è –æ—à–∏–±–∫–∞ URLSession (–≤–∫–ª—é—á–∞—è CancellationError) —Å–≤–æ–¥–∏—Ç—Å—è –∫ .unknown, –ø–æ—ç—Ç–æ–º—É –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç —Ä–µ–ø–æ—Ä—Ç–∏—Ç—å—Å—è –∫–∞–∫ ¬´–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞¬ª, –∞ –∏–Ω—Ç–µ—Ä—Å–µ–ø—Ç–æ—Ä –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Å–±–æ–∏ –∏ –æ—Ç–º–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
URLSessionProtocol –Ω–∞ Linux (FoundationNetworking) –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π delegate, —á—Ç–æ –ª–æ–º–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞/—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö ‚Äî —Ç–µ—Ö, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —á–∞—â–µ –≤—Å–µ–≥–æ –∏ –Ω—É–∂–Ω–∞.
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
AuthenticationInterceptor –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º refresh –ø—Ä–æ—Å—Ç–æ –±—Ä–æ—Å–∞–µ—Ç .unauthorized, –Ω–µ –æ—á–∏—â–∞—è —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω. –°–ª–µ–¥—É—é—â–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø—Ä–æ—Ç—É—Ö—à–∏–π —Ç–æ–∫–µ–Ω, –≤—ã–∑–æ–≤–µ—Ç –æ—á–µ—Ä–µ–¥–Ω–æ–π refresh –∏ –∑–∞—Ü–∏–∫–ª–∏—Ç—Å—è –¥–æ –ø–æ–±–µ–¥—ã —Å–µ—Ç–∏. –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ —Å—Ç–æ–∏—Ç —É–¥–∞–ª—è—Ç—å —Ç–æ–∫–µ–Ω –∏–ª–∏ –º–∞—Ä–∫–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
CookieToken —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç cookie, –Ω–æ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ñ–ª–∞–≥–∏ –≤—Ä–æ–¥–µ .httpOnly –∏ SameSite ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã–º ¬´–≤—ã–ª–æ–≥–∏–Ω–∏–≤–∞–Ω–∏—è–º¬ª.
TokenStorage –º–æ–ª—á–∞ –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Ö–æ—Ç—è KeyValueStorage –º–æ–∂–µ—Ç –±—ã—Ç—å –±—ç–∫–µ–Ω–¥–æ–º –ø–æ–≤–µ—Ä—Ö Keychain/–¥–∏—Å–∫–∞. –ò–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è async throws —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –Ω–µ–ª—å–∑—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–∫–∞–∑ –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤.
–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç –≥–æ—Ç–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ KeyValueStorage, keychain-–∞–¥–∞–ø—Ç–µ—Ä–∞ –∏–ª–∏ —Ö–æ—Ç—è –±—ã in-memory —Å—Ç–æ—Ä–∞–¥–∂–∞, –ø–æ—ç—Ç–æ–º—É ¬´–Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞¬ª –≤ README –Ω–∞ –¥–µ–ª–µ —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–∞–º–æ–º—É –ø–∏—Å–∞—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π storage (–≤ —Ç–µ—Å—Ç–∞—Ö –¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π MockStorage).
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ
session –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ nonisolated(unsafe), –Ω–æ URLSessionProtocol –Ω–∏–∫–∞–∫ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω Sendable. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–µ–≥–∫–æ –ø–µ—Ä–µ–¥–∞—Å—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é URLSession (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–º–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏), —á—Ç–æ –Ω–∞—Ä—É—à–∏—Ç actor isolation –∏ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –≥–æ–Ω–∫–∞–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö —Å–µ—Å—Å–∏–∏.
HeadersInterceptor/InterceptorChain –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ actor, —Ö–æ—Ç—è —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å–ª–æ–≤–∞—Ä–∏/–º–∞—Å—Å–∏–≤—ã –∏ –Ω–µ –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è. –≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ hops –º–µ–∂–¥—É –∏–∑–æ–ª—è—Ç–∞–º–∏ –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—ã—Å–æ–∫–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö, —Ö–æ—Ç—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã–ª–æ struct + Sendable. –û—Å–æ–±–µ–Ω–Ω–æ –æ–±–∏–¥–Ω–æ –¥–ª—è —Å–∞–º–æ–π –±–∞–∑–æ–≤–æ–π —Ñ–∏—á–∏ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏—è User-Agent.
Simple*Route —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å Decodable –æ—Ç–≤–µ—Ç–∞–º–∏. –ù–µ—Ç —à—Ç–∞—Ç–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è Data, Void, —Ñ–∞–π–ª–æ–≤ –∏ —Ç.–ø., –ø–æ—ç—Ç–æ–º—É –±–∞–Ω–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–Ω–æ–≤–∞ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Route, —á—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π —Ü–µ–ª–∏ ¬´–º–∏–Ω–∏–º—É–º —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞¬ª.
–¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–í Tests/NevodTests.swift –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º happy-path —Å–µ—Ç–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, HeadersInterceptor –∏ –±–∞–∑–æ–≤—ã–π AuthenticationInterceptor. –ù–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ CookieAuthenticationInterceptor, QueryAPIKeyToken, —Ü–µ–ø–æ—á–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Ç—Ä–∞–µ–≤ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º, NetworkConfig.environmentConfigurations –∏ —Ç.–¥., –ø–æ—ç—Ç–æ–º—É –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ—Ç–∫–∏ (cookie login, cookie refresh, API-key –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π) –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã –≤–æ–æ–±—â–µ.
README –æ–±–µ—â–∞–µ—Ç ¬´–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏¬ª –∏ ¬´–Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞¬ª, –Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ Bearer + –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä refresh; –Ω–µ—Ç –Ω–∏ —Å–ª–æ–≤–∞ –æ —Ç–æ–º, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å KeyValueStorage, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å CookieInterceptor, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç retry chain, –∏–ª–∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞–µ–¥–∏–Ω–µ —Å –∫–æ–¥–æ–º –±–∏–±–ª–∏–æ—Ç–µ–∫, —á—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ü–µ–ª–∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç–∏.
–≠—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ —Ç–æ–ª—å–∫–æ –º–µ—à–∞—é—Ç ¬´–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ—Å—Ç–æ—Ç–µ¬ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–æ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏, cookie-—Å–µ—Å—Å–∏–∏, —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤). –ß–µ–º —Ä–∞–Ω—å—à–µ –≤—ã –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å API –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –æ—à–∏–±–æ–∫, —Ç–µ–º –ª–µ–≥—á–µ –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–±–µ—â–∞–Ω–Ω—ã–π –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ—Å—Ç–∞—é—Ç—Å—è —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏.
